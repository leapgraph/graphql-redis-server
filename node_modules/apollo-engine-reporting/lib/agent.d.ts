import { DocumentNode } from 'graphql';
import { Trace } from 'apollo-engine-reporting-protobuf';
import { EngineReportingExtension } from './extension';
export interface EngineReportingOptions {
    apiKey?: string;
    calculateSignature?: (ast: DocumentNode, operationName: string) => string;
    reportIntervalMs?: number;
    uncompressedReportSizeTarget?: number;
    endpointUrl?: string;
    debugPrintReports?: boolean;
    maxAttempts?: number;
    minimumRetryDelayMs?: number;
    reportErrorFunction?: (err: Error) => void;
    privateVariables?: Array<String> | boolean;
    privateHeaders?: Array<String> | boolean;
    handleSignals?: boolean;
}
export declare class EngineReportingAgent<TContext = any> {
    private options;
    private apiKey;
    private report;
    private traceCount;
    private reportTimer;
    private averageTraceSize;
    constructor(options?: EngineReportingOptions);
    newExtension(): EngineReportingExtension<TContext>;
    addTrace(signature: string, operationName: string, trace: Trace): void;
    sendReport(): Promise<void>;
    stop(): void;
    private sendReportAndReportErrors();
    private resetReport();
}
